2024-11-15 05:55:36,503 TADA INFO starting test `ldmsd_decomp_static_op_test`
2024-11-15 05:55:36,503 TADA INFO   test-id: e945c1cf058239005d9f04faeff22cee5a739ee3c69af1dfffa2d23718839e0d
2024-11-15 05:55:36,504 TADA INFO   test-suite: LDMSD
2024-11-15 05:55:36,504 TADA INFO   test-name: ldmsd_decomp_static_op_test
2024-11-15 05:55:36,504 TADA INFO   test-user: narate
2024-11-15 05:55:36,504 TADA INFO   commit-id: acc764a80855e9c1fd06cf883137c02175abdb4f
2024-11-15 05:55:36,504 __main__ INFO -- Get or create the cluster --
2024-11-15 05:56:05,913 __main__ INFO -- Start daemons --
2024-11-15 05:56:40,931 __main__ INFO ... wait a bit to make sure ldmsd's are up
2024-11-15 05:57:23,906 TADA INFO assertion 1, `static` decomposition, ldms_test_op sos schema check: OK, passed
2024-11-15 05:57:23,906 TADA INFO assertion 2, `static` decomposition, record_op sos schema check: OK, passed
2024-11-15 05:57:23,907 TADA INFO assertion 3, `static` decomposition, ldms_test_op csv schema check: OK, passed
2024-11-15 05:57:23,907 TADA INFO assertion 4, `static` decomposition, record_op csv schema check: OK, passed
2024-11-15 05:57:23,907 TADA INFO assertion 5, `static` decomposition, ldms_test_op kafka schema check: OK, passed
2024-11-15 05:57:23,907 TADA INFO assertion 6, `static` decomposition, record_op kafka schema check: OK, passed
2024-11-15 05:57:23,919 TADA INFO assertion 7, `static` decomposition, ldms_test_op sos data check: Expecting {'timestamp': 1731671791.001773, 'producer': 'samp-1', 'instance': 'samp-1/test_sampler', 'count': 5, 'component_id': 1, 'u8': 5, 'u8_diff': 1, 'u8_min': 4, 'u8_max': 5, 'u8_mean': 4, 's8': 5, 's8_diff': 1, 's8_min': 4, 's8_max': 5, 's8_mean': 4, 'u16': 5, 'u16_diff': 1, 'u16_min': 4, 'u16_max': 5, 'u16_mean': 4, 's16': 5, 's16_diff': 1, 's16_min': 4, 's16_max': 5, 's16_mean': 4, 'u32': 5, 'u32_diff': 1, 'u32_min': 4, 'u32_max': 5, 'u32_mean': 4, 's32': 5, 's32_diff': 1, 's32_min': 4, 's32_max': 5, 's32_mean': 4, 'u64': 5, 'u64_diff': 1, 'u64_min': 4, 'u64_max': 5, 'u64_mean': 4, 's64': 5, 's64_diff': 1, 's64_min': 4, 's64_max': 5, 's64_mean': 4, 'f32': 5.0, 'f32_diff': 1, 'f32_min': 4.0, 'f32_max': 5.0, 'f32_mean': 4.5, 'd64': 5.0, 'd64_diff': 1, 'd64_min': 4.0, 'd64_max': 5.0, 'd64_mean': 4.5} but got {'timestamp': 1731671791.001773, 'producer': 'samp-1', 'instance': 'samp-1/test_sampler', 'count': 5, 'component_id': 1, 's8': 5, 's8_diff': 2, 's8_min': 3, 's8_mean': 4, 's8_max': 5, 'u8': 5, 'u8_diff': 2, 'u8_min': 3, 'u8_mean': 4, 'u8_max': 5, 's16': 5, 's16_diff': 2, 's16_min': 3, 's16_mean': 4, 's16_max': 5, 'u16': 5, 'u16_diff': 2, 'u16_min': 3, 'u16_mean': 4, 'u16_max': 5, 's32': 5, 's32_diff': 2, 's32_min': 3, 's32_mean': 4, 's32_max': 5, 'u32': 5, 'u32_diff': 2, 'u32_min': 3, 'u32_mean': 4, 'u32_max': 5, 's64': 5, 's64_diff': 2, 's64_min': 3, 's64_mean': 4, 's64_max': 5, 'u64': 5, 'u64_diff': 2, 'u64_min': 3, 'u64_mean': 4, 'u64_max': 5, 'f32': 5.0, 'f32_diff': 2.0, 'f32_min': 3.0, 'f32_mean': 4.0, 'f32_max': 5.0, 'd64': 5.0, 'd64_diff': 2.0, 'd64_min': 3.0, 'd64_mean': 4.0, 'd64_max': 5.0}, failed
Dict diff [31m-expecting [32m+getting
[31m- d64_mean: 4.5[0m
[32m+ d64_mean: 4.0[0m
[31m- s8_min: 4[0m
[32m+ s8_min: 3[0m
[31m- u8_min: 4[0m
[32m+ u8_min: 3[0m
[31m- u64_min: 4[0m
[32m+ u64_min: 3[0m
[31m- s64_diff: 1[0m
[32m+ s64_diff: 2[0m
[31m- d64_diff: 1[0m
[32m+ d64_diff: 2.0[0m
[31m- u16_min: 4[0m
[32m+ u16_min: 3[0m
[31m- d64_min: 4.0[0m
[32m+ d64_min: 3.0[0m
[31m- f32_min: 4.0[0m
[32m+ f32_min: 3.0[0m
[31m- s8_diff: 1[0m
[32m+ s8_diff: 2[0m
[31m- u32_diff: 1[0m
[32m+ u32_diff: 2[0m
[31m- s64_min: 4[0m
[32m+ s64_min: 3[0m
[31m- s32_min: 4[0m
[32m+ s32_min: 3[0m
[31m- u64_diff: 1[0m
[32m+ u64_diff: 2[0m
[31m- u16_diff: 1[0m
[32m+ u16_diff: 2[0m
[31m- f32_mean: 4.5[0m
[32m+ f32_mean: 4.0[0m
[31m- s16_diff: 1[0m
[32m+ s16_diff: 2[0m
[31m- s16_min: 4[0m
[32m+ s16_min: 3[0m
[31m- u32_min: 4[0m
[32m+ u32_min: 3[0m
[31m- u8_diff: 1[0m
[32m+ u8_diff: 2[0m
[31m- f32_diff: 1[0m
[32m+ f32_diff: 2.0[0m
[31m- s32_diff: 1[0m
[32m+ s32_diff: 2[0m
Traceback (most recent call last):
  File "ldmsd_decomp_static_op_test", line 804, in <module>
    check_fn(snaps, i, st)
  File "ldmsd_decomp_static_op_test", line 759, in ldms_test_op_snaps_check
    if not dict_expect(g, v, test_id):
  File "ldmsd_decomp_static_op_test", line 351, in dict_expect
    test.assert_test(test_id, False, f"Expecting {e} but got {v}")
  File "/home/narate/cron/ldms-test-b4.4/TADA.py", line 157, in assert_test
    raise AssertionException(self.test_desc + ", " + cond_str + ": FAILED")
TADA.AssertionException: Static decomposition with 'op' test, Expecting {'timestamp': 1731671791.001773, 'producer': 'samp-1', 'instance': 'samp-1/test_sampler', 'count': 5, 'component_id': 1, 'u8': 5, 'u8_diff': 1, 'u8_min': 4, 'u8_max': 5, 'u8_mean': 4, 's8': 5, 's8_diff': 1, 's8_min': 4, 's8_max': 5, 's8_mean': 4, 'u16': 5, 'u16_diff': 1, 'u16_min': 4, 'u16_max': 5, 'u16_mean': 4, 's16': 5, 's16_diff': 1, 's16_min': 4, 's16_max': 5, 's16_mean': 4, 'u32': 5, 'u32_diff': 1, 'u32_min': 4, 'u32_max': 5, 'u32_mean': 4, 's32': 5, 's32_diff': 1, 's32_min': 4, 's32_max': 5, 's32_mean': 4, 'u64': 5, 'u64_diff': 1, 'u64_min': 4, 'u64_max': 5, 'u64_mean': 4, 's64': 5, 's64_diff': 1, 's64_min': 4, 's64_max': 5, 's64_mean': 4, 'f32': 5.0, 'f32_diff': 1, 'f32_min': 4.0, 'f32_max': 5.0, 'f32_mean': 4.5, 'd64': 5.0, 'd64_diff': 1, 'd64_min': 4.0, 'd64_max': 5.0, 'd64_mean': 4.5} but got {'timestamp': 1731671791.001773, 'producer': 'samp-1', 'instance': 'samp-1/test_sampler', 'count': 5, 'component_id': 1, 's8': 5, 's8_diff': 2, 's8_min': 3, 's8_mean': 4, 's8_max': 5, 'u8': 5, 'u8_diff': 2, 'u8_min': 3, 'u8_mean': 4, 'u8_max': 5, 's16': 5, 's16_diff': 2, 's16_min': 3, 's16_mean': 4, 's16_max': 5, 'u16': 5, 'u16_diff': 2, 'u16_min': 3, 'u16_mean': 4, 'u16_max': 5, 's32': 5, 's32_diff': 2, 's32_min': 3, 's32_mean': 4, 's32_max': 5, 'u32': 5, 'u32_diff': 2, 'u32_min': 3, 'u32_mean': 4, 'u32_max': 5, 's64': 5, 's64_diff': 2, 's64_min': 3, 's64_mean': 4, 's64_max': 5, 'u64': 5, 'u64_diff': 2, 'u64_min': 3, 'u64_mean': 4, 'u64_max': 5, 'f32': 5.0, 'f32_diff': 2.0, 'f32_min': 3.0, 'f32_mean': 4.0, 'f32_max': 5.0, 'd64': 5.0, 'd64_diff': 2.0, 'd64_min': 3.0, 'd64_mean': 4.0, 'd64_max': 5.0}: FAILED
2024-11-15 05:57:23,921 TADA INFO assertion 8, `static` decomposition, record_op sos data check: skipped
2024-11-15 05:57:23,921 TADA INFO assertion 9, `static` decomposition, ldms_test_op csv data check: skipped
2024-11-15 05:57:23,922 TADA INFO assertion 10, `static` decomposition, record_op csv data check: skipped
2024-11-15 05:57:23,922 TADA INFO assertion 11, `static` decomposition, ldms_test_op kafka data check: skipped
2024-11-15 05:57:23,922 TADA INFO assertion 12, `static` decomposition, record_op kafka data check: skipped
2024-11-15 05:57:23,922 TADA INFO test ldmsd_decomp_static_op_test ended
