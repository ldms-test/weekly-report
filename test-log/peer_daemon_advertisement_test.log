2025-09-30 02:57:44,639 TADA INFO starting test `advertisement_passive_test`
2025-09-30 02:57:44,639 TADA INFO   test-id: 6aaceb904aef4a57cb19d96b7040f0db4c0a9d33b7c5e98b4d482914e628cb1d
2025-09-30 02:57:44,639 TADA INFO   test-suite: LDMSD
2025-09-30 02:57:44,639 TADA INFO   test-name: advertisement_passive_test
2025-09-30 02:57:44,639 TADA INFO   test-user: narate
2025-09-30 02:57:44,639 TADA INFO   commit-id: 19f4a747e21e6f9467c5b8b0a3ba3f4fb1be52ac
2025-09-30 02:57:44,640 __main__ INFO -- Get or create the cluster --
2025-09-30 02:58:13,613 __main__ INFO -- Start daemons --
2025-09-30 02:59:08,522 __main__ INFO ... wait a bit to make sure ldmsd's are up
2025-09-30 02:59:14,137 TADA INFO assertion start_1, node-1's Advertiser starts before agg11's prdcr_listen starts.: Advertised producer 'node-1' exists on agg11 and is in the correct state., passed
2025-09-30 02:59:14,262 TADA INFO assertion agg21-aggregation-1, agg21 sees and updates node-1's sets.: ['node-1/meminfo', 'node-1/vmstat'] exist on agg21, passed
2025-09-30 02:59:18,124 TADA INFO assertion start_2, node-2's Advertiser starts after agg11's prdcr_listen starts.: Advertised producer 'node-2' exists on agg11 and is in the correct state., passed
2025-09-30 02:59:18,256 TADA INFO assertion agg21-aggregation-2, agg21 sees and updates node-2's sets.: ['node-1/meminfo', 'node-1/vmstat', 'node-2/meminfo', 'node-2/vmstat'] exist on agg21, passed
2025-09-30 02:59:18,681 TADA INFO assertion agg11-remove-sets-1, Sets removed from agg11 after disconnecting from sampler daemon.: agg11 doesn't have ['node-1/meminfo', 'node-1/vmstat']., passed
2025-09-30 02:59:18,793 TADA INFO assertion agg21-remove-sets-1, Sets removed from agg21 after agg11 disconnecting from sampler daemon.: agg21 doesn't have ['node-1/meminfo', 'node-1/vmstat']., passed
2025-09-30 02:59:27,126 TADA INFO assertion sampler-revive-1, Agg11 collects sets from node-2 after reviving sampler daemon.: Agg11 starts updating node-1's sets after node-1's ldmsd gets revived., passed
2025-09-30 02:59:27,243 TADA INFO assertion sampler-revive-2, Agg21 collects sets from agg11 after reviving sampler daemon.: Agg21 starts updating node-1's sets after node-1's ldmsd gets revived., passed
2025-09-30 02:59:27,665 TADA INFO assertion agg21-remove-sets-2, Agg21 removed all sets after disconnecting from agg11.: agg21 doesn't have ['node-1/meminfo', 'node-1/vmstat']., passed
2025-09-30 02:59:36,868 TADA INFO assertion agg11-revive-1, Agg11 collects all sets after restarting.: Agg11 connected to ldmsd on node-1., passed
2025-09-30 02:59:37,502 TADA INFO assertion agg11-revive-2, Agg21 collects all sets after agg11 get restarted.: agg21 collects the sets from agg11., passed
2025-09-30 02:59:43,032 TADA INFO assertion prdcr_listen_not_start, Agg12 doesn't collect any sets before prdcr_listen start.: Agg12 doesn't collect any sets., passed
2025-09-30 02:59:46,893 TADA INFO assertion prdcr_listen_limit_hostname, Agg12 collects node-1's sets after prdcr_listen accepting only node-1's hostname starts.: Agg12 collects sets from node-3., passed
2025-09-30 02:59:50,771 TADA INFO assertion prdcr_listen_limit_ip, Agg12 collects node-2's sets after prdcr_listen accepting only node-1's IP starts.: Agg12 collects sets from node-4., passed
2025-09-30 02:59:52,015 TADA INFO assertion advertiser_status, 'advertiser_status' correctly reports the output: [{'name': 'node-1', 'type': 'advertiser', 'host': 'agg11', 'port': 10000, 'transport': 'sock', 'auth': 'DEFAULT', 'rail': '1', 'quota': '-1', 'rx_rate': '-1', 'reconnect_us': '200000', 'state': 'CONNECTED', 'sets': []}] == [{'name': 'node-1', 'host': 'agg11', 'port': 10000, 'transport': 'sock', 'reconnect_us': '200000', 'type': 'advertiser', 'state': 'CONNECTED', 'auth': 'DEFAULT', 'rail': '1', 'quota': '-1', 'rx_rate': '-1', 'sets': []}], passed
2025-09-30 02:59:53,247 TADA INFO assertion prdcr_listen_status-1, 'prdcr_listen_status' correctly report the single prdcr_listen.: [{'name': 'wildcard', 'state': 'running', 'regex': '-', 'IP range': '-', 'quota': '-1', 'rx_rate': '-1', 'type': 'passive', 'producers': ['node-1:10000', 'node-2:10000']}] == [{'name': 'wildcard', 'state': 'running', 'regex': '-', 'IP range': '-', 'type': 'passive', 'rx_rate': '-1', 'quota': '-1', 'producers': ['node-1:10000', 'node-2:10000']}], passed
2025-09-30 02:59:54,463 TADA INFO assertion prdcr_listen_status-2, 'prdcr_listen_status' correctly report the two prdcr_listen objects.: [{'name': 'limit_hostname', 'state': 'running', 'regex': '^node-3$', 'IP range': '-', 'quota': '-1', 'rx_rate': '-1', 'type': 'passive', 'producers': ['node-3:10000']}, {'name': 'limit_ip', 'state': 'running', 'regex': '-', 'IP range': '10.1.64.0/8', 'quota': '-1', 'rx_rate': '-1', 'type': 'passive', 'producers': ['node-4:10000']}] == [{'name': 'limit_hostname', 'regex': '^node-3$', 'state': 'running', 'IP range': '-', 'type': 'passive', 'rx_rate': '-1', 'quota': '-1', 'producers': ['node-3:10000']}, {'name': 'limit_ip', 'IP range': '10.1.64.0/8', 'regex': '-', 'state': 'running', 'type': 'passive', 'rx_rate': '-1', 'quota': '-1', 'producers': ['node-4:10000']}], passed
2025-09-30 02:59:56,922 TADA INFO assertion restart_advertised_prdcr-1, Stopping an advertised producer: Advertised producer is in STANDBY as expected., passed
2025-09-30 03:00:00,360 TADA INFO assertion restart_advertised_prdcr-2, Restarting an advertised producer: Advertised producer is in CONNECTED as expected, passed
2025-09-30 03:00:00,360 TADA INFO test advertisement_passive_test ended
