2022-09-20 07:51:36 INFO: WORK_DIR: /mnt/300G/data/2022-09-20-075135
2022-09-20 07:51:36 INFO: LOG: /mnt/300G/data/2022-09-20-075135/cygnus-weekly.log
~/cron/ldms-test ~/cron/ldms-test
/mnt/300G/data/2022-09-20-075135 ~/cron/ldms-test ~/cron/ldms-test
2022-09-20 07:51:37 INFO: Skip building on host because GIT SHA has not changed: d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
2022-09-20 07:51:37 INFO: Skip building containerized binary because GIT SHA has not changed: d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
2022-09-20 07:51:37 INFO: -- Installation process succeeded --
2022-09-20 07:51:37 INFO: ---------------------------------------------------------------
~/cron/ldms-test /mnt/300G/data/2022-09-20-075135
~/cron/ldms-test/weekly-report ~/cron/ldms-test /mnt/300G/data/2022-09-20-075135
HEAD is now at 488752c 2022-09-20-003518
[master 8bc0385] 2022-09-20-075135
 2 files changed, 14 insertions(+), 453 deletions(-)
 rewrite test-all.log (99%)
To github.com:ldms-test/weekly-report
   488752c..8bc0385  master -> master
~/cron/ldms-test /mnt/300G/data/2022-09-20-075135
2022-09-20 07:51:38 INFO: ==== OVIS+SOS Installation Completed ====
2022-09-20 07:51:38 INFO: ==== Start batch testing ====
~/cron/ldms-test /mnt/300G/data/2022-09-20-075135 ~/cron/ldms-test ~/cron/ldms-test
2022-09-20 07:51:38 INFO: ======== direct_ldms_ls_conn_test ========
2022-09-20 07:51:38 INFO: CMD: python3 direct_ldms_ls_conn_test --prefix /opt/ovis --src /mnt/300G/data --data_root /mnt/300G/data/2022-09-20-075135/data/direct_ldms_ls_conn_test
2022-09-20 07:51:39,679 TADA INFO starting test `direct_ldms_ls_conn_test`
2022-09-20 07:51:39,679 TADA INFO   test-id: c06f8a050f66ed09f0155707745bb455e7d5552c5390bd66b02de87319a5d371
2022-09-20 07:51:39,679 TADA INFO   test-suite: LDMSD
2022-09-20 07:51:39,680 TADA INFO   test-name: direct_ldms_ls_conn_test
2022-09-20 07:51:39,680 TADA INFO   test-user: narate
2022-09-20 07:51:39,680 TADA INFO   commit-id: d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
2022-09-20 07:51:39,949 __main__ INFO starting munged on cygnus-01-iw
2022-09-20 07:51:40,347 __main__ INFO starting munged on localhost
2022-09-20 07:51:40,579 __main__ INFO starting ldmsd on cygnus-01-iw
2022-09-20 07:51:40,870 TADA INFO assertion 0, Start ldmsd sampler and munged: OK, passed
2022-09-20 07:51:46,064 TADA INFO assertion 1, ldms_ls to the sampler: OK, passed
2022-09-20 07:51:46,064 __main__ INFO Stopping sampler daemon ...
2022-09-20 07:51:51,483 TADA INFO assertion 2, Kill the sampler: OK, passed
2022-09-20 07:51:51,523 TADA INFO assertion 3, ldms_ls to the dead sampler: got expected output, passed
2022-09-20 07:51:51,557 TADA INFO assertion 4, ldms_ls to a dead host: got expected output, passed
2022-09-20 07:51:51,558 TADA INFO test direct_ldms_ls_conn_test ended
2022-09-20 07:51:51,756 __main__ INFO stopping munged on cygnus-01-iw
2022-09-20 07:51:52,164 __main__ INFO stopping munged on localhost
2022-09-20 07:51:52 INFO: ----------------------------------------------
2022-09-20 07:51:52 INFO: ======== direct_prdcr_subscribe_test ========
2022-09-20 07:51:52 INFO: CMD: python3 direct_prdcr_subscribe_test --prefix /opt/ovis --src /mnt/300G/data --data_root /mnt/300G/data/2022-09-20-075135/data/direct_prdcr_subscribe_test
2022-09-20 07:51:52,994 TADA INFO starting test `direct_prdcr_subscribe_test`
2022-09-20 07:51:52,994 TADA INFO   test-id: d7190c7a6169b9651d28fdf93f9408c9f0d18ebf198b3db74cbd47b134cacf25
2022-09-20 07:51:52,994 TADA INFO   test-suite: LDMSD
2022-09-20 07:51:52,995 TADA INFO   test-name: direct_prdcr_subscribe_test
2022-09-20 07:51:52,995 TADA INFO   test-user: narate
2022-09-20 07:51:52,995 TADA INFO   commit-id: d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
2022-09-20 07:51:55,087 __main__ INFO starting munged on cygnus-01-iw
2022-09-20 07:51:55,837 __main__ INFO starting munged on cygnus-02-iw
2022-09-20 07:51:56,568 __main__ INFO starting munged on cygnus-03-iw
2022-09-20 07:51:57,320 __main__ INFO starting munged on cygnus-04-iw
2022-09-20 07:51:57,642 __main__ INFO starting munged on localhost
2022-09-20 07:51:57,875 __main__ INFO starting ldmsd on cygnus-01-iw
2022-09-20 07:51:58,380 __main__ INFO starting ldmsd on cygnus-02-iw
2022-09-20 07:51:58,871 __main__ INFO starting ldmsd on cygnus-03-iw
2022-09-20 07:51:59,400 __main__ INFO starting ldmsd on cygnus-04-iw
2022-09-20 07:52:06,255 TADA INFO assertion 0, ldmsd_stream_publish of JSON data to stream-sampler-1 succeeds: verify JSON data, passed
2022-09-20 07:52:06,256 TADA INFO assertion 1, ldmsd_stream_publish of STRING data to stream-sampler-1 succeeds: verify STRING data, passed
2022-09-20 07:52:06,256 TADA INFO assertion 2, ldmsd_stream_publish to JSON data to stream-sampler-2 succeeds: verify JSON data, passed
2022-09-20 07:52:06,256 TADA INFO assertion 3, ldmsd_stream_publish of STRING data to stream-sampler-2 succeeds: verify STRING data, passed
2022-09-20 07:52:06,258 TADA INFO assertion 4, ldmsd_stream data check on agg-2: agg2 stream data verified, passed
2022-09-20 07:52:06,350 TADA INFO assertion 5, Stopping the producers succeeds: agg-1 producers stopped, passed
2022-09-20 07:52:07,352 TADA INFO assertion 6, Restarting the producers succeeds: agg-1 producers started, passed
2022-09-20 07:52:13,905 TADA INFO assertion 7, JSON stream data resumes after producer restart on stream-sampler-1: verify JSON data, passed
2022-09-20 07:52:13,906 TADA INFO assertion 8, STRING stream data resumes after producer rerestart on stream-sampler-1: verify STRING data, passed
2022-09-20 07:52:13,906 TADA INFO assertion 9, JSON stream data resumes after producer restart on stream-sampler-2: verify JSON data, passed
2022-09-20 07:52:13,907 TADA INFO assertion 10, STRING stream data resumes after producer rerestart on stream-sampler-2: verify STRING data, passed
2022-09-20 07:52:13,908 TADA INFO assertion 11, ldmsd_stream data resume check on agg-2: agg2 stream data verified, passed
2022-09-20 07:52:13,908 __main__ INFO stopping sampler-1
2022-09-20 07:52:15,319 TADA INFO assertion 12, stream-sampler-1 is not running: sampler-1 stopped, passed
2022-09-20 07:52:15,319 __main__ INFO starting sampler-1
2022-09-20 07:52:16,569 TADA INFO assertion 13, stream-sampler-1 has restarted: sampler-1 running, passed
2022-09-20 07:52:16,569 __main__ INFO allow some time for prdcr to reconnect ...
2022-09-20 07:52:22,468 TADA INFO assertion 14, JSON stream data resumes after stream-sampler-1 restart: verify JSON data, passed
2022-09-20 07:52:22,469 TADA INFO assertion 15, STRING stream data resumes after stream-sampler-1 restart: verify STRING data, passed
2022-09-20 07:52:22,469 TADA INFO assertion 16, ldmsd_stream data check on agg-2 after stream-sampler-1 restart: agg2 stream data verified, passed
2022-09-20 07:52:22,470 TADA INFO assertion 17, agg-1 unsubscribes stream-sampler-1: unsubscribed, passed
2022-09-20 07:52:24,683 TADA INFO assertion 18, agg-1 receives data only from stream-sampler-2: data verified, passed
2022-09-20 07:52:24,688 __main__ INFO stopping agg-1
2022-09-20 07:52:29,901 TADA INFO assertion 19, stream-sampler-2 removes agg-1 stream client after disconnected: verified, passed
2022-09-20 07:52:29,902 TADA INFO test direct_prdcr_subscribe_test ended
2022-09-20 07:52:30,108 __main__ INFO stopping munged on cygnus-01-iw
2022-09-20 07:52:30,521 __main__ INFO stopping ldmsd on cygnus-01-iw
2022-09-20 07:52:30,926 __main__ INFO stopping munged on cygnus-02-iw
2022-09-20 07:52:31,329 __main__ INFO stopping ldmsd on cygnus-02-iw
2022-09-20 07:52:31,737 __main__ INFO stopping munged on cygnus-03-iw
2022-09-20 07:52:32,357 __main__ INFO stopping munged on cygnus-04-iw
2022-09-20 07:52:32,781 __main__ INFO stopping ldmsd on cygnus-04-iw
2022-09-20 07:52:32,995 __main__ INFO stopping munged on localhost
2022-09-20 07:52:33 INFO: ----------------------------------------------
2022-09-20 07:52:33 INFO: ======== agg_slurm_test ========
2022-09-20 07:52:33 INFO: CMD: python3 agg_slurm_test --prefix /home/narate/cron/ldms-test/ldms-containers/ovis --runtime docker --image ovishpc/ldms-dev --src /mnt/300G/data --data_root /mnt/300G/data/2022-09-20-075135/data/agg_slurm_test
2022-09-20 07:52:33,866 TADA INFO starting test `agg_slurm_test`
2022-09-20 07:52:33,867 TADA INFO   test-id: c4fd62b252f148235489cecc66d7ed2ecfc44e0fe6105f890a5210f3f91401b6
2022-09-20 07:52:33,867 TADA INFO   test-suite: LDMSD
2022-09-20 07:52:33,867 TADA INFO   test-name: agg_slurm_test
2022-09-20 07:52:33,867 TADA INFO   test-user: narate
2022-09-20 07:52:33,867 TADA INFO   commit-id: d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
2022-09-20 07:52:33,868 __main__ INFO -- Get or create the cluster --
2022-09-20 07:52:47,891 __main__ INFO -- Preparing syspapi JSON file --
2022-09-20 07:52:47,991 __main__ INFO -- Preparing jobpapi JSON file --
2022-09-20 07:52:48,111 __main__ INFO -- Preparing job script & programs --
2022-09-20 07:52:49,501 __main__ INFO -- Start daemons --
2022-09-20 07:53:01,712 __main__ INFO ... wait a bit to make sure ldmsd's are up
2022-09-20 07:53:06,714 __main__ INFO -- ldms_ls to agg-2 --
2022-09-20 07:53:06,839 TADA INFO assertion 1, ldms_ls agg-2: dir result verified, passed
2022-09-20 07:53:06,939 __main__ INFO -- Give syspapi some time to work before submitting job --
2022-09-20 07:53:11,942 __main__ INFO -- Submitting jobs --
2022-09-20 07:53:12,077 __main__ INFO job_one: 1
2022-09-20 07:53:12,207 __main__ INFO job_two: 2
2022-09-20 07:53:22,209 __main__ INFO -- Cancelling jobs --
2022-09-20 07:53:22,209 __main__ INFO job_one: 1
2022-09-20 07:53:22,338 __main__ INFO job_two: 2
2022-09-20 07:54:29,226 TADA INFO assertion 2, slurm data verification: get expected data from store, passed
2022-09-20 07:54:29,227 TADA INFO assertion 3, meminfo data verification: No data missing, passed
2022-09-20 07:54:29,228 TADA INFO assertion 4, (SYS/JOB) PAPI data verification: No data missing, passed
2022-09-20 07:54:29,228 TADA INFO test agg_slurm_test ended
2022-09-20 07:54:43 INFO: ----------------------------------------------
2022-09-20 07:54:44 INFO: ======== maestro_cfg_test ========
2022-09-20 07:54:44 INFO: CMD: python3 maestro_cfg_test --prefix /home/narate/cron/ldms-test/ldms-containers/ovis --runtime docker --image ovishpc/ldms-dev --src /mnt/300G/data --data_root /mnt/300G/data/2022-09-20-075135/data/maestro_cfg_test
2022-09-20 07:54:45,129 TADA INFO starting test `maestro_cfg_test`
2022-09-20 07:54:45,129 TADA INFO   test-id: d698e304db864a708cf3edb0cc93ebcfc9d888e760afcd68d6f6b21201880bf2
2022-09-20 07:54:45,129 TADA INFO   test-suite: LDMSD
2022-09-20 07:54:45,129 TADA INFO   test-name: maestro_cfg_test
2022-09-20 07:54:45,129 TADA INFO   test-user: narate
2022-09-20 07:54:45,129 TADA INFO   commit-id: d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
2022-09-20 07:54:55,141 __main__ INFO -- Get or create cluster --
2022-09-20 07:55:21,335 __main__ INFO -- Start daemons --
2022-09-20 07:55:36,173 __main__ INFO ... make sure ldmsd's are up
2022-09-20 07:55:43,759 TADA INFO assertion 1, load maestro etcd cluster: etcd cluster loaded successfully, passed
2022-09-20 07:56:23,792 TADA INFO assertion 2, config ldmsd cluster with maestro: Maestro ldmsd configuration successful, passed
2022-09-20 07:56:25,379 TADA INFO assertion 3, verify sampler daemons: OK, passed
2022-09-20 07:56:25,989 TADA INFO assertion 4, verify L1 aggregator daemons: OK, passed
2022-09-20 07:56:26,229 TADA INFO assertion 5, verify L2 aggregator daemon: OK, passed
2022-09-20 07:56:26,517 TADA INFO assertion 6, verify data storage: OK, passed
---Wait for config to write to file---
2022-09-20 07:56:26,519 TADA INFO test maestro_cfg_test ended
2022-09-20 07:56:44 INFO: ----------------------------------------------
rm: cannot remove '/mnt/300G/data/2022-09-20-075135/data/maestro_cfg_test/containers/ldms_data': Permission denied
2022-09-20 07:56:45 INFO: ======== test-ldms ========
2022-09-20 07:56:45 INFO: CMD: /home/narate/cron/ldms-test/ldms-containers/test/test-ldms/test.sh
2022-09-20T07:56:45-05:00 INFO: starting test-samp-1
1bf9b768814929608667e431ff32db9eb3192aee1e39d681b6369f84defeb6fe
2022-09-20T07:56:48-05:00 INFO: starting test-samp-2
2666b1c95293374ba3255b4ec2db196ba27cf58deb5d445b9350996160d3a0d5
2022-09-20T07:56:49-05:00 INFO: starting test-samp-3
54c7382b59dea007de2135a8c4987d596824cf8ca2e6fe0e0feb391af27c6a1e
2022-09-20T07:56:51-05:00 INFO: starting test-samp-4
5e2fa8911ff67ab7c36e7d1b97cb89fc7e0075924f7fa43662c127cef9d00006
2022-09-20T07:56:53-05:00 INFO: test-samp-1 is running
2022-09-20T07:56:53-05:00 INFO: test-samp-2 is running
2022-09-20T07:56:53-05:00 INFO: test-samp-3 is running
2022-09-20T07:56:53-05:00 INFO: test-samp-4 is running
2022-09-20T07:56:53-05:00 INFO: starting test-agg-11
fdd38a693ef0680f29ff3ad0068d305c69af775856098e070ee5af06cc9d6d40
2022-09-20T07:56:55-05:00 INFO: starting test-agg-12
ac48ff4572115502ad3adcc6050089b3c60a0c463f09d2475d8894874ee934a5
2022-09-20T07:56:57-05:00 INFO: test-agg-11 is running
2022-09-20T07:56:57-05:00 INFO: test-agg-12 is running
2022-09-20T07:56:57-05:00 INFO: starting test-agg-2
76f1f2203dc53a9225768e51b0abcc428026fc4536b71abb1f72730e1ad17764
2022-09-20T07:56:59-05:00 INFO: test-agg-2 is running
2022-09-20T07:56:59-05:00 INFO: Collecting data (into SOS)
2022-09-20T07:57:09-05:00 INFO: Checking SOS data
Component IDs: {1, 2, 3, 4}
2022-09-20T07:57:11-05:00 INFO: check rc: 0
2022-09-20T07:57:11-05:00 INFO: Cleaning up ...
test-samp-1
test-samp-2
test-samp-3
test-samp-4
test-agg-11
test-agg-12
test-agg-2
2022-09-20T07:57:15-05:00 INFO: DONE
2022-09-20 07:57:25 INFO: ----------------------------------------------
2022-09-20 07:57:25 INFO: ======== test-maestro ========
2022-09-20 07:57:25 INFO: CMD: /home/narate/cron/ldms-test/ldms-containers/test/test-maestro/test.sh
2022-09-20T07:57:25-05:00 INFO: starting mtest-maestro
b4696539e5a86ab87ab321c1d381bf13fa07318cefc7326b6169710318ce2d28
2022-09-20T07:57:27-05:00 INFO: starting mtest-samp-1
44388404b357a691c0a716cac723eb807bc289b6cbc370195f017260149e2660
2022-09-20T07:57:29-05:00 INFO: starting mtest-samp-2
407f4a616f8b07078d934c3a1ccf3e665bf3e73f2756f9139210b1e5776c6055
2022-09-20T07:57:31-05:00 INFO: starting mtest-samp-3
7dd1c2b3616c5c2782f97894759b08cac1146d95151a63ca5615568cba1371dc
2022-09-20T07:57:33-05:00 INFO: starting mtest-samp-4
5f672be586ae2f18a750885c6e8e5cf26991b6e972f6635b4011f8ac89ffdaba
2022-09-20T07:57:34-05:00 INFO: mtest-samp-1 is running
2022-09-20T07:57:34-05:00 INFO: mtest-samp-2 is running
2022-09-20T07:57:34-05:00 INFO: mtest-samp-3 is running
2022-09-20T07:57:34-05:00 INFO: mtest-samp-4 is running
2022-09-20T07:57:34-05:00 INFO: starting mtest-agg-11
9e17ca7d26a423449a85b7dffd931309eea4c84f17a22aee9492fe4e60d26a01
2022-09-20T07:57:36-05:00 INFO: starting mtest-agg-12
54f1a5bdc54c462c693831a26ed28e868366621e3edc0fe0179e7640c217a3ac
2022-09-20T07:57:37-05:00 INFO: mtest-agg-11 is running
2022-09-20T07:57:37-05:00 INFO: mtest-agg-12 is running
2022-09-20T07:57:37-05:00 INFO: starting mtest-agg-2
2ec9c75bc5288f45a14874503b2b0fc450658dae70e3945dbc4bf465734fbbbd
2022-09-20T07:57:39-05:00 INFO: mtest-agg-2 is running
2022-09-20T07:57:39-05:00 INFO: Collecting data (into SOS)
mtest-agg-11
mtest-agg-12
2022-09-20T07:57:50-05:00 INFO: Checking SOS data
Component IDs: {1, 2, 3, 4}
2022-09-20T07:57:52-05:00 INFO: sos check rc: 0
2022-09-20T07:57:53-05:00 INFO: starting mtest-ui
d2ba4fd8fb0c62132171676c4351ab6bda76cb67c151218fbbf34694f222473b
2022-09-20T07:58:00-05:00 INFO: Checking query from mtest-ui: http://mtest-ui/grafana/query
query results: b'[{"target": "Active", "datapoints": [[3960884, 1663678662001.651], [3961256, 1663678663001.325], [3961256, 1663678663001.671], [3961256, 1663678663001.76], [3961256, 1663678663001.7861], [3961256, 1663678664001.3062], [3961256, 1663678664001.481], [3961256, 1663678664001.493], [3961256, 1663678664001.8938], [3961256, 1663678665001.4668], [3961256, 1663678665001.471], [3961256, 1663678665001.546], [3961256, 1663678665001.6099], [3961256, 1663678666001.6], [3961256, 1663678666001.616], [3961256, 1663678666001.6199], [3961256, 1663678666001.6729], [3961256, 1663678667001.739], [3961256, 1663678667001.7468], [3961256, 1663678667001.751], [3961256, 1663678667001.8071], [3961256, 1663678668001.275], [3961256, 1663678668001.3079], [3961256, 1663678668001.904], [3961256, 1663678668001.92]]}, {"target": "component_id", "datapoints": [[1, 1663678662001.651], [4, 1663678663001.325], [2, 1663678663001.671], [3, 1663678663001.76], [1, 1663678663001.7861], [1, 1663678664001.3062], [2, 1663678664001.481], [4, 1663678664001.493], [3, 1663678664001.8938], [3, 1663678665001.4668], [1, 1663678665001.471], [2, 1663678665001.546], [4, 1663678665001.6099], [3, 1663678666001.6], [4, 1663678666001.616], [1, 1663678666001.6199], [2, 1663678666001.6729], [3, 1663678667001.739], [1, 1663678667001.7468], [4, 1663678667001.751], [2, 1663678667001.8071], [4, 1663678668001.275], [3, 1663678668001.3079], [1, 1663678668001.904], [2, 1663678668001.92]]}, {"target": "job_id", "datapoints": [[0, 1663678662001.651], [0, 1663678663001.325], [0, 1663678663001.671], [0, 1663678663001.76], [0, 1663678663001.7861], [0, 1663678664001.3062], [0, 1663678664001.481], [0, 1663678664001.493], [0, 1663678664001.8938], [0, 1663678665001.4668], [0, 1663678665001.471], [0, 1663678665001.546], [0, 1663678665001.6099], [0, 1663678666001.6], [0, 1663678666001.616], [0, 1663678666001.6199], [0, 1663678666001.6729], [0, 1663678667001.739], [0, 1663678667001.7468], [0, 1663678667001.751], [0, 1663678667001.8071], [0, 1663678668001.275], [0, 1663678668001.3079], [0, 1663678668001.904], [0, 1663678668001.92]]}]'
comp_ids:{1, 2, 3, 4}
2022-09-20T07:58:02-05:00 INFO: query check RC: 0
ec8698739c10d100f0abb432cfe8eb76bf8c25b37fe161b01690b270e680158c
2022-09-20T07:58:14-05:00 INFO: Adding DSOS data source in Grafana
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   113    0     0  100   113      0  95278 --:--:-- --:--:-- --:--:--  110k
curl: (56) Recv failure: Connection reset by peer

2022-09-20T07:58:15-05:00 INFO: Checking grafana data
Traceback (most recent call last):
  File "/home/narate/cron/ldms-test/ldms-containers/test/test-maestro/grafana_check.py", line 24, in <module>
    rsp = urllib.request.urlopen(req)
  File "/usr/lib64/python3.6/urllib/request.py", line 223, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib64/python3.6/urllib/request.py", line 526, in open
    response = self._open(req, data)
  File "/usr/lib64/python3.6/urllib/request.py", line 544, in _open
    '_open', req)
  File "/usr/lib64/python3.6/urllib/request.py", line 504, in _call_chain
    result = func(*args)
  File "/usr/lib64/python3.6/urllib/request.py", line 1377, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "/usr/lib64/python3.6/urllib/request.py", line 1352, in do_open
    r = h.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1383, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 320, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 281, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/usr/lib64/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
ConnectionResetError: [Errno 104] Connection reset by peer
2022-09-20T07:58:15-05:00 INFO: Grafana data check, rc: 1
2022-09-20T07:58:15-05:00 INFO: Cleaning up ...
mtest-samp-1
mtest-samp-2
mtest-samp-3
mtest-samp-4
mtest-agg-11
mtest-agg-12
mtest-agg-2
mtest-maestro
mtest-ui
mtest-grafana
2022-09-20T07:58:20-05:00 INFO: DONE
2022-09-20 07:58:30 INFO: ----------------------------------------------
2022-09-20 07:58:30 INFO: ======== test-maestro-hostmunge ========
2022-09-20 07:58:30 INFO: CMD: /home/narate/cron/ldms-test/ldms-containers/test/test-maestro-hostmunge/test.sh
2022-09-20T07:58:30-05:00 INFO: Checking munge on localhost
2022-09-20T07:58:30-05:00 INFO: munge encode/decode successfully
2022-09-20T07:58:30-05:00 INFO: starting mtest-maestro
eedd4d4eafb8d9427aa60dc60f3411fca087e0c946f699c07a815d904e8767c4
2022-09-20T07:58:33-05:00 INFO: starting mtest-samp-1
71aa8e6c1a052b0b7130e7cfb4808b7c2cda3f33b0880e6c3e86e7c29cd6cfad
2022-09-20T07:58:34-05:00 INFO: starting mtest-samp-2
5463c1224b44e529f8da99b8296b657d87b3a3c08a86d8287730d651f3ff9aef
2022-09-20T07:58:36-05:00 INFO: starting mtest-samp-3
c555490b694f1317c02c899a7fd4fe52376d7d30f2edc07d56ec400350e01f2f
2022-09-20T07:58:38-05:00 INFO: starting mtest-samp-4
c4857bfaecfb37cdc140bc47d00a882a700a130a5017b0a67567bb4e0dc95ee1
2022-09-20T07:58:39-05:00 INFO: mtest-samp-1 is running
2022-09-20T07:58:39-05:00 INFO: mtest-samp-2 is running
2022-09-20T07:58:39-05:00 INFO: mtest-samp-3 is running
2022-09-20T07:58:39-05:00 INFO: mtest-samp-4 is running
2022-09-20T07:58:39-05:00 INFO: starting mtest-agg-11
94b47da127f81641ec97bc024b703c133a102b3762e40ef96b27f6e1877df24f
2022-09-20T07:58:41-05:00 INFO: starting mtest-agg-12
a604171ef039c8aafe640ef46e56735b7e93282b5b2049e4b7b8c5d73537a2a4
2022-09-20T07:58:42-05:00 INFO: mtest-agg-11 is running
2022-09-20T07:58:42-05:00 INFO: mtest-agg-12 is running
2022-09-20T07:58:42-05:00 INFO: starting mtest-agg-2
091b0aae271686e994f0ca8c01462db952bd62508160e2439d997a9823d6a2f5
2022-09-20T07:58:44-05:00 INFO: mtest-agg-2 is running
2022-09-20T07:58:44-05:00 INFO: Collecting data (into SOS)
mtest-agg-11
mtest-agg-12
2022-09-20T07:58:55-05:00 INFO: Checking SOS data
Component IDs: {1, 2, 3, 4}
2022-09-20T07:58:57-05:00 INFO: sos check rc: 0
2022-09-20T07:58:59-05:00 INFO: starting mtest-ui
a7f156a7d20d5d02710d243d090e669cf94d7de9fc6e79cfbffcfc2ee8754991
2022-09-20T07:59:00-05:00 INFO: Checking query from mtest-ui: http://mtest-ui/grafana/query
query results: b'[{"target": "Active", "datapoints": [[4002304, 1663678727001.3188], [4002304, 1663678727001.691], [4002304, 1663678727001.719], [4002660, 1663678728001.479], [4002660, 1663678728001.48], [4002660, 1663678728001.487], [4002660, 1663678728001.698], [4002676, 1663678729001.331], [4002676, 1663678729001.621], [4002676, 1663678729001.638], [4002676, 1663678729001.643], [4002676, 1663678730001.49], [4002676, 1663678730001.494], [4002676, 1663678730001.506], [4002676, 1663678730001.7852], [4002676, 1663678731000.755], [4002676, 1663678731001.31], [4002676, 1663678731001.6482], [4002676, 1663678731001.9358], [4002676, 1663678732001.3088], [4002676, 1663678732001.448], [4002676, 1663678732001.4521], [4002676, 1663678732001.792], [4002676, 1663678733000.488], [4002676, 1663678733001.577], [4002676, 1663678733001.5842], [4002676, 1663678733001.9148], [4002676, 1663678734001.3198], [4002676, 1663678734001.623], [4002676, 1663678734001.65], [4002676, 1663678734001.719]]}, {"target": "component_id", "datapoints": [[1, 1663678727001.3188], [2, 1663678727001.691], [3, 1663678727001.719], [1, 1663678728001.479], [2, 1663678728001.48], [4, 1663678728001.487], [3, 1663678728001.698], [2, 1663678729001.331], [4, 1663678729001.621], [1, 1663678729001.638], [3, 1663678729001.643], [4, 1663678730001.49], [2, 1663678730001.494], [3, 1663678730001.506], [1, 1663678730001.7852], [3, 1663678731000.755], [2, 1663678731001.31], [4, 1663678731001.6482], [1, 1663678731001.9358], [1, 1663678732001.3088], [3, 1663678732001.448], [2, 1663678732001.4521], [4, 1663678732001.792], [1, 1663678733000.488], [3, 1663678733001.577], [2, 1663678733001.5842], [4, 1663678733001.9148], [2, 1663678734001.3198], [1, 1663678734001.623], [4, 1663678734001.65], [3, 1663678734001.719]]}, {"target": "job_id", "datapoints": [[0, 1663678727001.3188], [0, 1663678727001.691], [0, 1663678727001.719], [0, 1663678728001.479], [0, 1663678728001.48], [0, 1663678728001.487], [0, 1663678728001.698], [0, 1663678729001.331], [0, 1663678729001.621], [0, 1663678729001.638], [0, 1663678729001.643], [0, 1663678730001.49], [0, 1663678730001.494], [0, 1663678730001.506], [0, 1663678730001.7852], [0, 1663678731000.755], [0, 1663678731001.31], [0, 1663678731001.6482], [0, 1663678731001.9358], [0, 1663678732001.3088], [0, 1663678732001.448], [0, 1663678732001.4521], [0, 1663678732001.792], [0, 1663678733000.488], [0, 1663678733001.577], [0, 1663678733001.5842], [0, 1663678733001.9148], [0, 1663678734001.3198], [0, 1663678734001.623], [0, 1663678734001.65], [0, 1663678734001.719]]}]'
comp_ids:{1, 2, 3, 4}
2022-09-20T07:59:02-05:00 INFO: query check RC: 0
016fbf07b32c8f2f522123d7c346785ca9af6a19879492c19ac524e1ea62705b
2022-09-20T07:59:09-05:00 INFO: Adding DSOS data source in Grafana
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   113    0     0  100   113      0  89968 --:--:-- --:--:-- --:--:--  110k
curl: (56) Recv failure: Connection reset by peer

2022-09-20T07:59:10-05:00 INFO: Checking grafana data
Traceback (most recent call last):
  File "/home/narate/cron/ldms-test/ldms-containers/test/test-maestro-hostmunge/grafana_check.py", line 24, in <module>
    rsp = urllib.request.urlopen(req)
  File "/usr/lib64/python3.6/urllib/request.py", line 223, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib64/python3.6/urllib/request.py", line 526, in open
    response = self._open(req, data)
  File "/usr/lib64/python3.6/urllib/request.py", line 544, in _open
    '_open', req)
  File "/usr/lib64/python3.6/urllib/request.py", line 504, in _call_chain
    result = func(*args)
  File "/usr/lib64/python3.6/urllib/request.py", line 1377, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "/usr/lib64/python3.6/urllib/request.py", line 1352, in do_open
    r = h.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1383, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 320, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 281, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/usr/lib64/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
ConnectionResetError: [Errno 104] Connection reset by peer
2022-09-20T07:59:10-05:00 INFO: Grafana data check, rc: 1
2022-09-20T07:59:10-05:00 INFO: Cleaning up ...
mtest-samp-1
mtest-samp-2
mtest-samp-3
mtest-samp-4
mtest-agg-11
mtest-agg-12
mtest-agg-2
mtest-maestro
mtest-ui
mtest-grafana
2022-09-20T07:59:15-05:00 INFO: DONE
2022-09-20 07:59:25 INFO: ----------------------------------------------
2022-09-20 07:59:25 INFO: ======== test-maestro-munge ========
2022-09-20 07:59:25 INFO: CMD: /home/narate/cron/ldms-test/ldms-containers/test/test-maestro-munge/test.sh
1+0 records in
1+0 records out
4096 bytes (4.1 kB, 4.0 KiB) copied, 0.000221684 s, 18.5 MB/s
2022-09-20T07:59:26-05:00 INFO: starting mtest-maestro
fd32c97b26a08d51c3d6e2570b909c79c1516c64e12d2c6ce6d456a8a75b36db
2022-09-20T07:59:29-05:00 INFO: starting mtest-samp-1
881516c3c43afae69e206dddc7f71c6567530753d095a86d755849d14e1881cb
2022-09-20T07:59:30-05:00 INFO: starting mtest-samp-2
0366d5ad789fc115ab3cbe06e8b4debecdb90fcb30b8e044795c4d0c976dee98
2022-09-20T07:59:32-05:00 INFO: starting mtest-samp-3
dde458e13df1f55ca925d89154232132fb24f13f254778892c48e856c7a8bc24
2022-09-20T07:59:34-05:00 INFO: starting mtest-samp-4
f5db8e7500cc9e5e35b476c1553fa85f574e563aec48db767b4575efe56b60fa
2022-09-20T07:59:35-05:00 INFO: mtest-samp-1 is running
2022-09-20T07:59:35-05:00 INFO: mtest-samp-2 is running
2022-09-20T07:59:35-05:00 INFO: mtest-samp-3 is running
2022-09-20T07:59:35-05:00 INFO: mtest-samp-4 is running
2022-09-20T07:59:35-05:00 INFO: starting mtest-agg-11
0b2233cf2ca26365c635608b1504b8a802aa11801fd54e1db5ef6367be490190
2022-09-20T07:59:37-05:00 INFO: starting mtest-agg-12
6c06798863de5ee1921f1d1a0f428ceba2cf06a01d50d1952a4faf7e596ffcbe
2022-09-20T07:59:38-05:00 INFO: mtest-agg-11 is running
2022-09-20T07:59:38-05:00 INFO: mtest-agg-12 is running
2022-09-20T07:59:38-05:00 INFO: starting mtest-agg-2
787290a313f67f0ae87e0b8b9b97c09aaf84cac0d04d9fc83f876b2065b24b72
2022-09-20T07:59:40-05:00 INFO: mtest-agg-2 is running
2022-09-20T07:59:40-05:00 INFO: Collecting data (into SOS)
mtest-agg-11
mtest-agg-12
2022-09-20T07:59:51-05:00 INFO: Checking SOS data
Component IDs: {1, 2, 3, 4}
2022-09-20T07:59:53-05:00 INFO: sos check rc: 0
2022-09-20T07:59:54-05:00 INFO: starting mtest-ui
1fbeb7b8184056da994957584a065eaf52d8f318e3732fab3c3dd6ce87e6a349
2022-09-20T07:59:56-05:00 INFO: Checking query from mtest-ui: http://mtest-ui/grafana/query
query results: b'[{"target": "Active", "datapoints": [[4111944, 1663678784001.619], [4111944, 1663678784001.624], [4112284, 1663678785001.3198], [4112284, 1663678785001.3271], [4112284, 1663678785001.419], [4112284, 1663678785001.7742], [4112316, 1663678786001.46], [4112316, 1663678786001.465], [4112316, 1663678786001.469], [4112316, 1663678786001.9258], [4112316, 1663678787001.554], [4112316, 1663678787001.6052], [4112316, 1663678787001.606], [4112316, 1663678787002.0742], [4112316, 1663678788001.065], [4112316, 1663678788001.2239], [4112316, 1663678788001.676], [4112316, 1663678788001.7358], [4112316, 1663678789000.224], [4112316, 1663678789001.31], [4112316, 1663678789001.3582], [4112316, 1663678789001.866], [4112316, 1663678790001.388], [4112316, 1663678790001.468], [4112316, 1663678790001.47], [4112316, 1663678790001.509]]}, {"target": "component_id", "datapoints": [[3, 1663678784001.619], [1, 1663678784001.624], [1, 1663678785001.3198], [4, 1663678785001.3271], [2, 1663678785001.419], [3, 1663678785001.7742], [2, 1663678786001.46], [1, 1663678786001.465], [4, 1663678786001.469], [3, 1663678786001.9258], [2, 1663678787001.554], [1, 1663678787001.6052], [4, 1663678787001.606], [3, 1663678787002.0742], [1, 1663678788001.065], [3, 1663678788001.2239], [2, 1663678788001.676], [4, 1663678788001.7358], [1, 1663678789000.224], [2, 1663678789001.31], [3, 1663678789001.3582], [4, 1663678789001.866], [1, 1663678790001.388], [4, 1663678790001.468], [2, 1663678790001.47], [3, 1663678790001.509]]}, {"target": "job_id", "datapoints": [[0, 1663678784001.619], [0, 1663678784001.624], [0, 1663678785001.3198], [0, 1663678785001.3271], [0, 1663678785001.419], [0, 1663678785001.7742], [0, 1663678786001.46], [0, 1663678786001.465], [0, 1663678786001.469], [0, 1663678786001.9258], [0, 1663678787001.554], [0, 1663678787001.6052], [0, 1663678787001.606], [0, 1663678787002.0742], [0, 1663678788001.065], [0, 1663678788001.2239], [0, 1663678788001.676], [0, 1663678788001.7358], [0, 1663678789000.224], [0, 1663678789001.31], [0, 1663678789001.3582], [0, 1663678789001.866], [0, 1663678790001.388], [0, 1663678790001.468], [0, 1663678790001.47], [0, 1663678790001.509]]}]'
comp_ids:{1, 2, 3, 4}
2022-09-20T07:59:59-05:00 INFO: query check RC: 0
456e8c9eeecf30440d5c33d7b307c7b959ebdbbce361a93281eec7fbd5b3a25c
2022-09-20T08:00:05-05:00 INFO: Adding DSOS data source in Grafana
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   113    0     0  100   113      0  84834 --:--:-- --:--:-- --:--:--  110k
curl: (56) Recv failure: Connection reset by peer

2022-09-20T08:00:06-05:00 INFO: Checking grafana data
Traceback (most recent call last):
  File "/home/narate/cron/ldms-test/ldms-containers/test/test-maestro-munge/grafana_check.py", line 24, in <module>
    rsp = urllib.request.urlopen(req)
  File "/usr/lib64/python3.6/urllib/request.py", line 223, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib64/python3.6/urllib/request.py", line 526, in open
    response = self._open(req, data)
  File "/usr/lib64/python3.6/urllib/request.py", line 544, in _open
    '_open', req)
  File "/usr/lib64/python3.6/urllib/request.py", line 504, in _call_chain
    result = func(*args)
  File "/usr/lib64/python3.6/urllib/request.py", line 1377, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "/usr/lib64/python3.6/urllib/request.py", line 1352, in do_open
    r = h.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1383, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 320, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 281, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/usr/lib64/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
ConnectionResetError: [Errno 104] Connection reset by peer
2022-09-20T08:00:06-05:00 INFO: Grafana data check, rc: 1
2022-09-20T08:00:06-05:00 INFO: Cleaning up ...
mtest-samp-1
mtest-samp-2
mtest-samp-3
mtest-samp-4
mtest-agg-11
mtest-agg-12
mtest-agg-2
mtest-maestro
mtest-ui
mtest-grafana
2022-09-20T08:00:11-05:00 INFO: DONE
2022-09-20 08:00:21 INFO: ----------------------------------------------
2022-09-20 08:00:21 INFO: ==== Summary ====
maestro_cfg_test: [01;32mPASSED[0m
agg_slurm_test: [01;32mPASSED[0m
direct_prdcr_subscribe_test: [01;32mPASSED[0m
cont-test-maestro-munge: [01;31mFAILED[0m
cont-test-ldms: [01;32mPASSED[0m
cont-test-maestro-hostmunge: [01;31mFAILED[0m
cont-test-maestro: [01;31mFAILED[0m
direct_ldms_ls_conn_test: [01;32mPASSED[0m
------------------------------------------
Total tests passed: 5/8
------------------------------------------
