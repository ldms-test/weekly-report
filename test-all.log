2023-03-09 19:18:53 INFO: WORK_DIR: /mnt/300G/data/2023-03-09-191852
2023-03-09 19:18:53 INFO: LOG: /mnt/300G/data/2023-03-09-191852/cygnus-weekly.log
~/cron/ldms-test ~/cron/ldms-test
/mnt/300G/data/2023-03-09-191852 ~/cron/ldms-test ~/cron/ldms-test
2023-03-09 19:18:54 INFO: Skip building on host because GIT SHA has not changed: 
Usage: grep [OPTION]... PATTERN [FILE]...
Try 'grep --help' for more information.
~/cron/ldms-test/ldms-containers /mnt/300G/data/2023-03-09-191852 ~/cron/ldms-test ~/cron/ldms-test
==== ldms-dev ====
Building Docker Image: ovishpc/ldms-dev
Sending build context to Docker daemon  12.29kB
Step 1/12 : FROM ubuntu:22.04
 ---> 2dc39ba059dc
Step 2/12 : SHELL [ "/bin/bash", "-c" ]
 ---> Using cache
 ---> 7dc8c78f1da6
Step 3/12 : RUN /bin/echo >/etc/profile.d/prompt.sh -e "myprompt() {\n	if test -z \"\$parent\"; then\n		if ((PPID)); then\n			parent=\$(ps -o cmd --no-headers \$PPID | awk '{ print \$1 }')\n		else\n			parent=\"--\"\n		fi\n	fi\n	if test -z \"\$left\"; then\n		if (( \$UID )); then\n			left='\${debian_chroot:+(\$debian_chroot)}\[\\\\033[01;32m\]\u\[\\\\033[01;33m\]@\h\[\\\\033[01;34m\] \w'\n		else\n			left='\${debian_chroot:+(\$debian_chroot)}\[\\\\033[01;31m\]\u\[\\\\033[01;33m\]@\h\[\\\\033[01;34m\] \w'\n		fi\n	fi\n\n	_branch=\"\$(git symbolic-ref HEAD --short 2>/dev/null || echo '--')\"\n	_git_sym_ref=\"\\\\033[0;32m(git-branch: \$_branch)\"\n\n	right=\"\\\\[\\\\033[01;31m\\\\][\$parent]\"\n	[[ \"\$TERM\" = \"linux\" ]] || echo -ne \"\\\\033]0;\${USER}@\${HOSTNAME}:\$PWD\\\\007\"\n	PS1=\$(printf \"\\\\n%s %s\\\\n%s\\\\n\\\\[\\\\033[01;34m\\\\]\\\\$\\\\[\\\\033[00m\\\\] \" \"\$right\" \"\$_git_sym_ref\" \"\$left\" )\n}\nexport -f myprompt\nexport PROMPT_COMMAND=myprompt\n"
 ---> Using cache
 ---> db7a5a91bd5a
Step 4/12 : RUN /bin/echo >/etc/profile.d/less_color.sh -e "export LESS_TERMCAP_mb=\$'\\\\E[01;31m'       # begin blinking\nexport LESS_TERMCAP_md=\$'\\\\E[01;38;5;74m'  # begin bold\nexport LESS_TERMCAP_me=\$'\\\\E[0m'           # end mode\nexport LESS_TERMCAP_se=\$'\\\\E[0m'           # end standout-mode\nexport LESS_TERMCAP_so=\$'\\\\E[38;5;016m\\\\E[48;5;220m'    # begin standout-mode - info box\nexport LESS_TERMCAP_ue=\$'\\\\E[0m'           # end underline\nexport LESS_TERMCAP_us=\$'\\\\E[04;38;5;146m' # begin underline\n"
 ---> Using cache
 ---> 756cb1fbf295
Step 5/12 : RUN /bin/echo > /etc/gitconfig -e "[core]\neditor = vim\npager = less -S -R\n\n[color]\nui = True\n\n[log]\ndecorate = True\n\n[alias]\nln = log --graph --pretty=format:'%C(auto)%h %d %s %C(ul white)-%an'\nln2 = log --graph --pretty=format:'%C(auto)%H%d%n%ad (%ar)%n%s%n%C(ul white)-%an%n'\npick = cherry-pick\nshows = show --stat -p\nffmerge = merge --ff-only\n\n[diff]\ntool = vimdiff\nwsErrorHighlight = all\n\n[push]\ndefault = simple\n"
 ---> Using cache
 ---> 618c077d8765
Step 6/12 : RUN mkdir -p /etc/vim/
 ---> Using cache
 ---> 8c34ada4611f
Step 7/12 : RUN /bin/echo > /etc/vim/vimrc.local -e "\" /etc/vim/vimrc.local\n\"\n\nif filereadable(\"/etc/vim/vimrc.vundle\")\n  source /etc/vim/vimrc.vundle\nendif\n\nset encoding=utf-8\nset fileencoding=utf-8\n\n\" explicitly source defaults.vim first. Otherwise, if there is no ~/.vimrc,\n\" defaults.vim get sourced after global vimrc file.\nsource \$VIMRUNTIME/defaults.vim\nlet skip_defaults_vim = 1\n\n\" filetype plugin indent on\nfiletype plugin on\nset ai\nset formatoptions+=ro\n\nset hlsearch\nnnoremap  :noh<CR>\n\nset laststatus=2\nset noexpandtab\n\nautocmd BufEnter * :syntax sync fromstart\n\nlet g:load_doxygen_syntax=1\n\nfunction EliminateTrailingSpaces()\n	norm m'\n	%s/\\s\\+\$//e\n	norm \`'\nendfunction\nautocmd! BufWritePre * :call EliminateTrailingSpaces()\n\nset t_Co=16\n\n\" Line wrap settings\nset textwidth=80\nset colorcolumn=+1\nhighlight ColorColumn ctermbg=7\n\n\" parentheses highlight\nhighlight MatchParen cterm=bold ctermbg=none ctermfg=none\n\nset number\n\nset nocompatible\nset completeopt=longest,menu,preview,menuone\n\nlet g:SuperTabNoCompleteAfter = ['\w', '\s', '^', '.']\n\nhighlight Search cterm=NONE ctermfg=0 ctermbg=11 guibg=Yellow guifg=Black\nhighlight Visual cterm=NONE ctermfg=0 ctermbg=6 guibg=Yellow guifg=Black\n\n\" Easier vimdiff color for dark bg\nhi DiffAdd cterm=bold ctermbg=4\nhi DiffChange cterm=bold ctermbg=5\nhi DiffDelete cterm=bold ctermfg=0 ctermbg=6\nhi DiffText cterm=bold ctermbg=1\n\n\" Fold highlight for dark background\nhi Folded cterm=bold ctermfg=0 ctermbg=7\nhi FoldColumn cterm=bold ctermfg=0 ctermbg=7\n\nset comments+=fb:\[\ \]\nset comments+=fb:\[*\]\n\n\" Airline options\nlet g:airline#extensions#tabline#enabled = 0\nlet g:airline#extensions#tabline#show_buffers = 0\nlet g:airline_powerline_fonts = 1\nlet g:airline_theme=\"wombat\"\nlet g:airline#extensions#tabline#left_sep = ''\nlet g:airline#extensions#tabline#left_alt_sep = ''\nlet g:airline#extensions#tabline#right_sep = ''\nlet g:airline#extensions#tabline#right_alt_sep = ''\nlet g:airline#extensions#whitespace#mixed_indent_algo = 1\nlet g:airline#extensions#whitespace#checks = [ 'indent', 'trailing', 'long' ]\nlet g:airline#extensions#branch#enabled = 1\nlet g:airline#extensions#branch#displayed_head_limit = 10\n\n\" youcompleteme options\nlet g:ycm_auto_trigger = 0\nhighlight YcmErrorSection ctermfg=White ctermbg=Red\nhighlight YcmWarningSection ctermfg=Black ctermbg=Blue\nlet g:ycm_global_ycm_extra_conf = '/etc/vim/ycm_extra_conf.py'\n\nfunction ModifyGdYcm()\n	map gd :YcmCompleter GoToDefinitionElseDeclaration<CR>\nendfunction\n\nautocmd FileType c :call ModifyGdYcm()\n\nfunction MyTabLabel(n)\n  let buflist = tabpagebuflist(a:n)\n  let winnr = tabpagewinnr(a:n)\n  let fullname = bufname(buflist[winnr - 1])\n  let tmp = split(fullname, \"/\")\n  let lenn = len(tmp)\n  if lenn > 0\n    let s = (a:n).':'.tmp[lenn-1]\n  else\n    let s = (a:n)\n  endif\n  return s\nendfunction\n\nfunction MyTabLine()\n  let s = ''\n  for i in range(tabpagenr('\$'))\n    \" select the highlighting\n    if i + 1 == tabpagenr()\n      let s .= '%#TabLineSel#'\n    else\n      let s .= '%#TabLine#'\n    endif\n\n    \" set the tab page number (for mouse clicks)\n    let s .= '%' . (i + 1) . 'T'\n\n    \" the label is made by MyTabLabel()\n    let s .= ' %{MyTabLabel(' . (i + 1) . ')} '\n  endfor\n\n  \" after the last tab fill with TabLineFill and reset tab page nr\n  let s .= '%#TabLineFill#%T'\n\n  \" right-align the label to close the current tab page\n  if tabpagenr('\$') > 1\n    let s .= '%=%#TabLine#%999Xclose'\n  endif\n\n  return s\nendfunction\n\nset tabline=%!MyTabLine()\nruntime ftplugin/man.vim\nnnoremap K :Man <cword><CR>\n\n\" cscope key map\nnmap <C-\>s :cs find s <C-R>=expand(\"<cword>\")<CR><CR>\nnmap <C-\>g :cs find g <C-R>=expand(\"<cword>\")<CR><CR>\nnmap <C-\>c :cs find c <C-R>=expand(\"<cword>\")<CR><CR>\nnmap <C-\>t :cs find t <C-R>=expand(\"<cword>\")<CR><CR>\nnmap <C-\>e :cs find e <C-R>=expand(\"<cword>\")<CR><CR>\nnmap <C-\>f :cs find f <C-R>=expand(\"<cfile>\")<CR><CR>\nnmap <C-\>i :cs find i ^<C-R>=expand(\"<cfile>\")<CR>\$<CR>\nnmap <C-\>d :cs find d <C-R>=expand(\"<cword>\")<CR><CR>\n\n\" netrw - the usual plugin used to browse files\n\" tree style listing\nlet g:netrw_liststyle = 3\n\n\" disable modeline\nset modelines=0\nset nomodeline\n\n\" time before becoming idle\nset updatetime=500\n\n\" Tagbar\nlet g:tagbar_sort = 0\nhi TagbarHighlight cterm=bold,reverse\n\nlet g:tagbar_type_markdown = {\n    \ 'ctagstype': 'markdown',\n    \ 'ctagsbin' : '/opt/markdown2ctags.py',\n    \ 'ctagsargs' : '-f - --sort=yes --sro=»',\n    \ 'kinds' : [\n        \ 's:sections',\n        \ 'i:images'\n    \ ],\n    \ 'sro' : '»',\n    \ 'kind2scope' : {\n        \ 's' : 'section',\n    \ },\n    \ 'sort': 0,\n\ }\n\n\" Man -- the manpage display\n\" open new tab instead of splitting window\nlet g:ft_man_open_mode = 'tab'\n\nset incsearch\n\n\" ctrlp\nlet g:ctrlp_prompt_mappings = {\n  \ 'AcceptSelection(\"e\")': ['<2-LeftMouse>'],\n  \ 'AcceptSelection(\"t\")': ['<c-t>', '<cr>'],\n  \}\n\ncommand Mann execute \"Man \" . expand(\"%:p\")\n\n\" disable mouse click\nset mouse-=a\n\nset showcmd\n\n\" Allow \${PWD}/.vimrc (useful for per-project vim setting)\nset exrc\n"
 ---> Using cache
 ---> 8def09832b42
Step 8/12 : RUN /bin/bash -c ' export DEBIAN_FRONTEND=noninteractive ; apt-get update -y ; yes | unminimize ; apt-get install -y man-db git build-essential python3-dev python3-pip etcd 	openssl libssl-dev libssl-doc libibverbs-dev uuid-dev sudo tmux 	curl libcurl4-openssl-dev 	vim vim-fugitive vim-airline-themes vim-airline 	vim-youcompleteme vim-scripts vim-ctrlp 	papi-tools libpapi-dev libpfm4-dev 	bash-completion 	autoconf automake gnu-standards libtool gettext 	flex bison libkrb5-dev libreadline-dev 	python3-numpy python3-pandas cython3 pkg-config 	libmunge-dev libslurm-dev 	slurmd slurmctld 	exuberant-ctags 	librdmacm-dev 	gdb dnsutils iproute2 inetutils-ping 	npm 	librdkafka-dev 	openssh-server 	openjdk-11-jdk 	; ln -s /usr/bin/cython3 /usr/bin/cython ; apt-get autoremove -y; apt-get autoclean -y; apt-get clean -y; '
 ---> Using cache
 ---> db5f76b677e5
Step 9/12 : RUN pip3 install protobuf==3.20 etcd3
 ---> Using cache
 ---> 1628a853790f
Step 10/12 : RUN /bin/bash -c ' pushd /opt/ ;curl -LO https://archive.apache.org/dist/kafka/2.1.0/kafka_2.12-2.1.0.tgz ;tar xzf kafka_2.12-2.1.0.tgz ; mkdir kafka_2.12-2.1.0/logs/ ; '
 ---> Using cache
 ---> 1835ad40aa69
Step 11/12 : RUN /bin/bash -c 'mkdir -p /run/sshd ; '
 ---> Using cache
 ---> 55ca4e7ecb2e
Step 12/12 : RUN /bin/bash -c 'cd /root ; yes "" | ssh-keygen ; cp .ssh/id_rsa.pub .ssh/authorized_keys ; chmod 600 .ssh/authorized_keys ; '
 ---> Using cache
 ---> ebba4416ca63
Successfully built ebba4416ca63
Successfully tagged ovishpc/ldms-dev:latest
==== build ovis ====
2023-03-09T19:18:54-06:00 INFO: ==== Parameter Info =============================================
2023-03-09T19:18:54-06:00 INFO: OVIS: /home/narate/cron/ldms-test/ldms-containers/ovis
2023-03-09T19:18:54-06:00 INFO: OVIS_REPO: https://github.com/ovis-hpc/ovis
2023-03-09T19:18:54-06:00 INFO: OVIS_BRANCH: OVIS-4
2023-03-09T19:18:54-06:00 INFO: SOS_REPO: https://github.com/ovis-hpc/sos
2023-03-09T19:18:54-06:00 INFO: SOS_BRANCH: SOS-6
2023-03-09T19:18:54-06:00 INFO: MAESTRO_REPO: https://github.com/ovis-hpc/maestro
2023-03-09T19:18:54-06:00 INFO: MAESTRO_BRANCH: master
2023-03-09T19:18:54-06:00 INFO: =================================================================
2023-03-09T19:18:54-06:00 ERROR: ldms-cont-ovis-build build container existed. Please remove the container.
